version: '3.8'

services:
  summarization:
    build:
      context: ./services/summarization
    ports:
      - "${SUMMARIZATION_PORT:-8001}:8000"
    environment:
      - MODEL_NAME=${SUMMARIZATION_MODEL:-facebook/bart-large-cnn}
    volumes:
      - model_cache:/root/.cache/huggingface

  qa:
    build:
      context: ./services/question_answering
    ports:
      - "${QA_PORT:-8002}:8000"
    environment:
      - MODEL_NAME=${QA_MODEL:-distilbert-base-cased-distilled-squad}
    volumes:
      - model_cache:/root/.cache/huggingface

volumes:
  model_cache:
